# 功能测试指南

## 🎯 测试前准备

### 1. 启动后端服务

```bash
python app.py
```

**确认启动成功**:
- 看到 "Application startup complete" 消息
- 命令行窗口保持打开

### 2. 测试后端

```bash
python test_backend.py
```

**预期结果**:
- ✓ 根路径访问成功
- ✓ API 文档可访问
- ✓ 食物识别 API 正常

### 3. 打开浏览器

访问: `http://localhost:8000`

## 📋 功能测试清单

### 测试1: 登录功能

- [ ] 可以看到登录页面
- [ ] 可以注册新账号
- [ ] 可以登录系统
- [ ] 登录后进入仪表盘

### 测试2: 导航菜单

点击左侧导航，确认每个页面都能正常显示：

- [ ] 首页
- [ ] 数据概览
- [ ] 身体数据
- [ ] 食谱推荐
- [ ] 运动计划
- [ ] AI饮食记录与建议 ⭐
- [ ] AI饮食计划 ⭐
- [ ] AI运动计划 ⭐
- [ ] 身体数据管理 ⭐

### 测试3: AI饮食记录与建议

1. **点击导航**
   - [ ] 点击 "AI饮食记录与建议"
   - [ ] 页面正确显示

2. **输入测试**
   - [ ] 输入: "一份鸡胸肉沙拉，大概 200g"
   - [ ] 点击 "AI 分析"
   - [ ] 看到加载动画

3. **查看结果**
   - [ ] 显示食物名称
   - [ ] 显示热量估算
   - [ ] 显示健康评分（星级）
   - [ ] 显示数据来源
   - [ ] 显示营养建议

4. **保存记录**
   - [ ] 点击 "保存到饮食记录"
   - [ ] 看到成功提示
   - [ ] 在下方看到新增记录

5. **删除记录**
   - [ ] 点击记录的 "删除" 按钮
   - [ ] 确认删除
   - [ ] 记录被移除

### 测试4: AI饮食计划

1. **点击导航**
   - [ ] 点击 "AI饮食计划"
   - [ ] 页面正确显示

2. **填写信息**
   - [ ] 性别: 男
   - [ ] 年龄: 25
   - [ ] 身高: 170
   - [ ] 体重: 65
   - [ ] 目标: 减脂
   - [ ] 热量: 1800

3. **生成计划**
   - [ ] 点击 "生成饮食计划"
   - [ ] 看到加载动画
   - [ ] 等待20-30秒

4. **查看结果**
   - [ ] 显示每日热量目标
   - [ ] 显示目标类型
   - [ ] 显示早餐计划
   - [ ] 显示午餐计划
   - [ ] 显示晚餐计划
   - [ ] 显示加餐计划
   - [ ] 每餐包含：名称、描述、热量、标签、建议

### 测试5: AI运动计划

1. **点击导航**
   - [ ] 点击 "AI运动计划"
   - [ ] 页面正确显示

2. **填写信息**
   - [ ] 性别: 男
   - [ ] 年龄: 25
   - [ ] 身高: 170
   - [ ] 体重: 65
   - [ ] 目标: 减脂
   - [ ] 可用时间: 60

3. **生成计划**
   - [ ] 点击 "生成运动计划"
   - [ ] 看到加载动画
   - [ ] 等待20-30秒

4. **查看结果**
   - [ ] 显示总训练时长
   - [ ] 显示目标类型
   - [ ] 显示多个训练环节
   - [ ] 每个环节包含：名称、时长、类型、强度、动作、提示

### 测试6: 身体数据管理

1. **点击导航**
   - [ ] 点击 "身体数据管理"
   - [ ] 页面正确显示

2. **添加记录**
   - [ ] 输入体重: 65.5
   - [ ] 输入身高: 170
   - [ ] 选择性别: 男
   - [ ] 输入年龄: 25
   - [ ] 点击 "保存数据"

3. **查看结果**
   - [ ] 看到成功提示
   - [ ] 显示 BMI 值
   - [ ] 输入框被清空

4. **查看历史**
   - [ ] 在下方看到历史记录
   - [ ] 显示日期和时间
   - [ ] 显示体重和 BMI
   - [ ] 显示身高

5. **删除记录**
   - [ ] 点击 "删除" 按钮
   - [ ] 确认删除
   - [ ] 记录被移除

## 🐛 常见问题

### 问题1: 点击导航后页面不切换

**检查**:
- 打开浏览器控制台（F12）
- 查看是否有 JavaScript 错误
- 检查 section 的 ID 是否正确

**解决**:
- 刷新页面
- 清除浏览器缓存

### 问题2: 点击按钮后出现 "Failed to fetch"

**检查**:
- 后端服务是否运行
- 运行 `python test_backend.py`
- 查看后端命令行是否有错误

**解决**:
- 重启后端服务
- 查看 [故障排除指南.md](故障排除指南.md)

### 问题3: 生成计划失败

**检查**:
- API 密钥是否有效
- 网络连接是否正常
- 后端日志是否有错误

**解决**:
- 检查 `.env` 文件
- 查看后端命令行的错误信息
- 稍后重试

### 问题4: 页面显示不正常

**检查**:
- 浏览器是否支持（建议使用 Chrome/Edge/Firefox）
- 是否有 CSS 加载失败
- 浏览器控制台是否有错误

**解决**:
- 刷新页面（Ctrl+F5 强制刷新）
- 清除浏览器缓存
- 尝试其他浏览器

## 📊 测试报告模板

### 测试环境
- 操作系统: Windows/Mac/Linux
- 浏览器: Chrome/Edge/Firefox
- Python 版本: 3.x
- 后端状态: 运行中/未运行

### 测试结果

| 功能 | 状态 | 备注 |
|------|------|------|
| 登录功能 | ✓/✗ | |
| 导航切换 | ✓/✗ | |
| AI饮食记录 | ✓/✗ | |
| AI饮食计划 | ✓/✗ | |
| AI运动计划 | ✓/✗ | |
| 身体数据管理 | ✓/✗ | |

### 发现的问题

1. 问题描述:
   - 重现步骤:
   - 错误信息:
   - 解决方案:

2. 问题描述:
   - 重现步骤:
   - 错误信息:
   - 解决方案:

## 🎯 测试通过标准

所有以下项目都应该通过：

- ✓ 后端服务正常启动
- ✓ 所有导航菜单可以点击
- ✓ 所有页面可以正常显示
- ✓ AI饮食记录功能正常
- ✓ AI饮食计划可以生成
- ✓ AI运动计划可以生成
- ✓ 身体数据可以保存和查看
- ✓ 无 JavaScript 错误
- ✓ 无 CSS 显示问题

## 📞 获取帮助

如果测试过程中遇到问题：

1. 查看 [故障排除指南.md](故障排除指南.md)
2. 查看 [使用说明-完整版.md](使用说明-完整版.md)
3. 运行 `python test_backend.py`
4. 检查浏览器控制台错误
5. 查看后端命令行日志

---

**祝测试顺利！** 🎉
